Programming's languages, Concepts & Tools
- Data structure & Algorithms
- GIT
- Immutability
- Event-driven system
- JavaScript
- Docker and Kubernetes
- VS Code (plugins, snippets, shortcut keys, command)
- Clouds like AWS (especially EC2, S3, Lambda)
- API / REST
- Different design patterns
- Webpack
- Cypress | Testing
- Jira | Project Management

Node.js
- npm audit / npm audit fix
- npm outdated
- npm update
- npm ci instead of npm install

Security
https://cheatsheetseries.owasp.org/cheatsheets/Input_Validation_Cheat_Sheet.html
--------

Platform Security
- Scan For Vulnerable Dependencies and keep them up to date (npm audit and audit fix)

Server Security
- Closing ports 
- type validation (parseInt)
- Minimum and maximum length or value range check for numerical parameters, dates and strings
- Array of allowed values for small sets of string parameters (e.g. days of week)
- Regular expressions for any other structured data covering the whole input string (^...$) and not using "any   character" wildcard (such as . or \S)


Application Security
- use flat promise with async/await
- Only return what is necessary (DTOs - sanitize output)
- Rate limiting and limited attempts for login (Brute force) (login/password reset)

Enable HTTP Security Headers
- Helmet package
- Content Security Policy (CSP)
- Use HTTP-only cookies for session data
- Keeping Cookie secure (cookie-parser)
- Apply Strict CORS Policies

Restrict DOS Attacks
- Request size limit (DOS)
- Use services like Cloudflare for (DDOS)
- use less evil REGEX (ReDOS)

Restrict SQL Injection Attacks
- Object-Relational Mapping (ORM) Libraries (Sequelize)
- Input (query-body-params) sanitization and validation 
  forms, JSON(joi), escaping HTML, JavaScript(Xss-clean)
- The Least Privilege Principle

Restrict CSRF (Cross-Site Request Forgery) Attacks
- Implement CSRF tokens for request authenticity(csurf)
- Anti-CSRF libs (csurf/helmet  protect routes with state-changing actions ex. change passwords - add order)
- Protect the file upload from CSRF attacks

HTTP Parameter Pollution
- hpp (add whitelist)

Set Up Alerting
- Configure alerts based on thresholds or conditions. Use email, SMS, or integration with incident management tools for alerting.

Secrets Management
API keys, database credentials, Identity and Access Management (IAM) permissions, SSH keys, certificates, etc
- Store credentials in an environment variable and not in code
- Encryption for sensitive data like passwords etc using secure crypto
- Ability to block JWT using services like Redis

File Upload
- List allowed extensions. Only allow safe and critical extensions for business functionality
  Double extensions, e.g. .jpg.php, where it circumvents easily the regex \.jpg
  Null bytes, e.g. .php%00.jpg, where .jpg gets truncated and .php becomes the new extension
- Validate the file type, don't trust the Content-Type header as it can be spoofed
  Extension + Content-Type Validation + File Signature Validation
- Change the filename to something generated by the application

- Set a filename length limit. Restrict the allowed characters if possible
- Set a file size limit
- Only allow authorized users to upload files
- Store the files on a different server. If that's not possible, store them outside of the webroot
    In the case of public access to the files, use a handler that gets mapped to filenames inside the application (someid -> file.ext)
- Run the file through an antivirus or a sandbox if available to validate that it doesn't contain malicious data
- Run the file through CDR (Content Disarm & Reconstruct) if applicable type (PDF, DOCX, etc...)
- Protect the file upload from CSRF attacks

Docker
------
add docker-compose.yml
docker-compose config
docker-compose up --build

docker exec -it postgres_db psql -U postgres

docker run --restart always --name postgres_db -p 5432:5432 -e POSTGRES_DB=store_dev -e POSTGRES_PASSWORD=postgres -e POSTGRES_USER=postgres -d postgres

Database
--------
- Conventions
- Use underscore_names instead of CamelCase
- Table names should be plural
- Don't use ambiguous column names
- When possible, name foreign key columns the same as the columns they refer to

- Transactions
- Ensuring data consistency in multi-step operations (e.g., placing an order while updating stock).
- Rollback changes in case of an error.
- Maintaining integrity during concurrent operations.

Caching 
-----------
- Use Redis
npm install redis && npm install --save-dev @types/redis
npm install ioredis && npm install --save-dev @types/ioredis
docker run -d --name redis -p 6379:6379 redis:latest

- Redis insight
host.docker.internal:6379
docker run -d --name redisinsight -p 5540:5540 redis/redisinsight:latest -v redisinsight:/data

Use Case          | Description
_________________________________
Product Caching   | Cache popular or recently viewed products to reduce DB hits
Cart Storage      | Temporarily store user carts in Redis (cart:userId → JSON)
Session Storage   | Store JWT session data, blacklist tokens, etc.
Rate Limiting     | Prevent abuse with IP/user-based rate limits
Inventory Control | Lock inventory temporarily for flash sales or checkout queues
Pub/Sub Events    | Real-time notifications (e.g. stock alerts, order status updates)
Queueing          | With BullMQ or similar for email, payments, etc.

Prefix              | Purpose                                            | Example Key                     | Value Format
---------------------------------------------------------------------------------------------------------------------------------
session:            | User session data (JWT/session ID)                 | session:abc123                  | JSON / user info
user:               | Cached user profile                                | user:42                         | JSON
cart:               | User shopping cart                                 | cart:user123                    | JSON / Cart items
product:            | Cached product details                             | product:123                     | JSON
product:stock:      | Product stock / inventory tracking                 | product:stock:123               | Integer
rate_limit:         | Rate limiting requests per IP or user              | rate_limit:ip:192.168.0.1       | Integer (count)
order:              | Temporary or queued order data                     | order:temp:user123              | JSON
checkout:lock:      | Locking key to prevent multiple checkouts          | checkout:lock:user123           | Any value, TTL-based
category:           | Cached category data (tree or leaf nodes)          | category:electronics            | JSON
search:suggestions: | Search auto-complete or recent search caching      | search:suggestions:laptop       | List / Set
vendor:             | Vendor profile cache                               | vendor:345                      | JSON
promo:              | Promo code validation or usage tracking            | promo:BLACKFRIDAY2024           | Count or JSON
inventory:lock:     | Temporary locks for critical inventory updates     | inventory:lock:product123       | Lock / TTL
queue:              | For Bull queues (email, notifications, etc.)       | queue:email, queue:order-events | JSON
review:count:       | Store review count or rating aggregate temporarily | review:count:product123         | Integer / Float


Searching
---------
- Elastic Search

Reliability
-----------
- Chaos Monkey 

Scalability
-----------
- Define load
- 1000 query write req/sec or 2000 query read req/sec
- Load test with locust

Debugging
---------
- Learn Node debugger
- Learn postman
- Learn chrome inspect elements
- Use APM like a sentry

Working Smart
-------------
- Setup snippets for repeated and most used code
- Don’t reinvent the wheel and use node libraries to save time and cost
- Setup most needed/popular VSCode extensions like bracket pair colorizer
- Setup path alias to make code more robust/easier/cleaner

Testing
-------
- Unit testing
- Include 3 parts in each test name
(1) What is being tested? For example, the ProductsService.addNewProduct method
(2) Under what circumstances and scenario? For example, no price is passed to the method
(3) What is the expected result? For example, the new product is not approved

- E2E / API testing using postman or cypress
- Dependency injection design concept
- Test Coverage
- Use test libraries like faker.js


--------------------------------

Coding
------
- Follow ES6+ code guidelines
Js
- await promise.all (multiple tables)
- firstName?.trim()?.toLowerCase()?.includes('keyword')
- prepareFaxDocument() / buildRequestPayload()

const request = {
  url: `${this.baseUrl}/dd`.
  method: 'POST',
  headers: {
    Authorization: `Bearer ${token}`
    'Content-Type': 'application/json' or application/x-www-form-urlencoded
  },
  data: {
    payload
  }
}
- const response = axios(request)

Linting
-------
- Linting and follow a guideline like| Airbnb | Google | Custom

Formatting
----------
- use formatter like prettier

Logging & Monitoring
--------------------
- Choose a logging framework such as Winston, Bunyan, or Pino
- Implement monitoring using tools like Prometheus, Grafana, New Relic, or Datadog

Error handling
--------------
- Handle uncaught exceptions
- Handle errors in asynchronous calls

Commenting
----------
- Properly comment everything

Documentation
-------------
- Using swagger for API documentation
- Using JSdoc for code documentation
- Proper response and request structure through API’s



 "scripts": {
    "clean": "rm -rf dist/",
    "build": "npm run clean && npx tsc",
    "start:prod": "npm run build && node dist/server.js",
    "start:dev": "nodemon src/server.ts",
    "start:trace": "npm run build && node --trace-sync-io dist/server.js",
    "test": "npm run build && npm run jasmine",
    "format": "prettier --config ./.prettierrc --write \"src/**/*.{ts,js}\"",
    "lint": "eslint --config ./eslint.config.mjs \"src/**/*.{ts,js}\"",
    "lint:fix": "eslint --config ./eslint.config.mjs \"src/**/*.{ts,js}\" --fix",
    "jasmine": "jasmine",
    "jasmine:ts": "jasmine-ts",
    "seed:create": "npx sequelize-cli seed:generate --name",
    "seed": "npx sequelize-cli seed:undo",
    "seed:undo": "",
    "migrate:create": " npx sequelize-cli migration:generate --name",
    "migrate:up": "npx sequelize-cli db:migrate",
    "migrate:down": "npx sequelize-cli db:migrate:undo",
    "migrate:up:test": "npx sequelize-cli db:migrate --env test",
    "migrate:down:test": "npx sequelize-cli db:migrate:undo --env test"
  },